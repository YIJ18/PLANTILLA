# üöÄ Astra CanSat Dashboard - Estaci√≥n de Misi√≥n Caelus

![Astra Rocketry](./public/logo.png)

## üìñ Descripci√≥n

**Sistema completo fullstack** de telemetr√≠a en tiempo real para el proyecto **CanSat Caelus** del equipo **Astra Rocketry**. Esta aplicaci√≥n web proporciona una arquitectura moderna con **frontend React** y **backend Django REST API**, incluyendo autenticaci√≥n JWT, base de datos persistente, y una interfaz completa para el monitoreo, an√°lisis y visualizaci√≥n de datos de vuelo de sat√©lites tipo CanSat.

### üåü **Caracter√≠sticas Principales del Sistema Completo**

- **üîê Autenticaci√≥n JWT**: Sistema completo de usuarios con roles y permisos
- **üêç Backend Django**: API REST robusta con base de datos SQLite/PostgreSQL
- **‚öõÔ∏è Frontend React**: Interfaz moderna e interactiva
- **üì° API REST**: Comunicaci√≥n completa entre frontend y backend
- **üíæ Persistencia**: Datos guardados en base de datos del servidor
- **üîÑ Tiempo Real**: Telemetr√≠a en vivo con actualizaci√≥n autom√°tica
- **üìä Dashboard Completo**: Gr√°ficas interactivas, mapas GPS, visualizaci√≥n 3D
- **üõ°Ô∏è Seguridad**: Rutas protegidas, CORS configurado, validaci√≥n de datos

## ‚ú® Caracter√≠sticas Principales

### üéØ Dashboard en Tiempo Real
- **Modo Live**: Monitoreo en tiempo real con simulaci√≥n de telemetr√≠a
- **Panel de Estado**: Visualizaci√≥n del estado del CanSat (bater√≠a, canal walkie, √∫ltima actualizaci√≥n)
- **Control de Misi√≥n**: Tiempo de vuelo, velocidades vertical/horizontal, distancia recorrida
- **Sistema de Alertas**: Notificaciones autom√°ticas para fallos de sensores, bater√≠a baja y p√©rdida de GPS

### üìä Visualizaci√≥n de Datos
- **Gr√°ficas Interactivas**: Temperatura, humedad, altitud, presi√≥n y canal walkie
- **Mapa GPS**: Visualizaci√≥n de trayectoria en tiempo real con marcadores
- **Visor 3D**: Representaci√≥n tridimensional con datos del giroscopio
- **Animaciones Fluidas**: Interfaz responsiva con Framer Motion

### üíæ Gesti√≥n de Datos
- **Base de Datos Local**: Almacenamiento persistente con IndexedDB
- **Importaci√≥n de Archivos**: Carga de datos desde archivos TXT/CSV
- **Exportaci√≥n Completa**: Paquetes ZIP con datos, gr√°ficas y metadatos
- **Historial de Vuelos**: Gesti√≥n y selecci√≥n de vuelos guardados

### üõ†Ô∏è Funcionalidades Avanzadas
- **Sistema de Administraci√≥n**: Control de acceso con autenticaci√≥n y rutas protegidas
- **Editor Visual Inline**: Sistema de edici√≥n en tiempo real del c√≥digo React
- **Modelo 3D Personalizable**: Carga de modelos OBJ para visualizaci√≥n
- **C√°lculos Autom√°ticos**: Velocidades, distancias y an√°lisis de trayectoria
- **Interfaz Responsive**: Dise√±o adaptativo con Tailwind CSS
- **Gesti√≥n de Usuarios**: Sistema de roles y permisos diferenciados

## üèóÔ∏è Arquitectura del Proyecto

### üåê Arquitectura Fullstack

Este proyecto utiliza una arquitectura moderna de **Frontend React + Backend Django** con autenticaci√≥n JWT y APIs REST.

```
astra-cansat-dashboard/
‚îú‚îÄ‚îÄ üìÅ backend/               # üêç Backend Django REST API
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ astra_backend/        # Configuraci√≥n principal Django
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ‚öôÔ∏è settings.py       # Configuraciones, CORS, JWT
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåê urls.py           # URLs principales
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üîß wsgi.py           # Servidor WSGI
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ accounts/             # üë• App de usuarios y autenticaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üë§ models.py         # Modelo CustomUser extendido
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üîê views.py          # Login/logout JWT
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üì° serializers.py    # Serializaci√≥n de datos
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üåê urls.py           # Endpoints de auth
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ flights/              # ‚úàÔ∏è App de gesti√≥n de vuelos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ‚úàÔ∏è models.py         # Modelos Flight, FlightData
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìä views.py          # CRUD vuelos y datos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üì° serializers.py    # Serializaci√≥n flight data
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ÔøΩ urls.py           # Endpoints de vuelos
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ telemetry/            # üì° App de telemetr√≠a en tiempo real
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìä models.py         # Modelo TelemetryData
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìà views.py          # API telemetr√≠a live
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üì° serializers.py    # Serializaci√≥n telemetr√≠a
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üåê urls.py           # Endpoints telemetr√≠a
‚îÇ   ‚îú‚îÄ‚îÄ ÔøΩÔ∏è db.sqlite3           # Base de datos SQLite
‚îÇ   ‚îú‚îÄ‚îÄ üìã requirements.txt     # Dependencias Python
‚îÇ   ‚îú‚îÄ‚îÄ üöÄ manage.py            # Django management
‚îÇ   ‚îú‚îÄ‚îÄ üìä create_sample_data.py # Script de datos de prueba
‚îÇ   ‚îî‚îÄ‚îÄ üìñ README.md            # Documentaci√≥n backend
‚îú‚îÄ‚îÄ üìÅ src/                   # ‚öõÔ∏è Frontend React
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ App.jsx              # Componente principal
‚îÇ   ‚îú‚îÄ‚îÄ üé® index.css            # Estilos globales y variables CSS
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ main.jsx             # Punto de entrada con routing
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ components/          # Componentes React
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìä ChartsGrid.jsx       # Grilla de gr√°ficas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ÔøΩ TelemetryDashboard.jsx # Dashboard telemetr√≠a en tiempo real
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üóÉÔ∏è FlightSelector*.jsx  # Selectores de vuelos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåê MapSection.jsx       # Mapa GPS
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üéØ GyroscopeViewer.jsx  # Visor 3D
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üéõÔ∏è MissionControl.jsx   # Control de misi√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìà StatusPanel.jsx      # Panel de estado
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ auth/                # üîê Autenticaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üîê LoginForm.jsx        # Form login con backend
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üõ°Ô∏è ProtectedRoute.jsx   # Rutas protegidas JWT
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üëë AdminLayout.jsx      # Layout administraci√≥n
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ ui/                  # Componentes UI base
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ contexts/            # Contextos React
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üîê AuthContext.jsx      # Auth con Django backend
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ hooks/               # Custom Hooks
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üåê useApi.js            # Hook para llamadas API
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ pages/               # P√°ginas principales
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåç PublicDashboard.jsx   # Dashboard p√∫blico
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üëë AdminDashboard.jsx    # Dashboard administraci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ lib/                 # Librer√≠as y utilidades
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üíæ db.js                # Gesti√≥n IndexedDB local
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ utils/               # Utilidades
‚îÇ       ‚îú‚îÄ‚îÄ üßÆ calculations.js      # C√°lculos de vuelo
‚îÇ       ‚îî‚îÄ‚îÄ üìä mockData.js          # Datos de prueba
‚îú‚îÄ‚îÄ üìÅ public/                # Recursos est√°ticos
‚îÇ   ‚îú‚îÄ‚îÄ üé® logo.png             # Logo Astra Rocketry
‚îÇ   ‚îî‚îÄ‚îÄ üéØ cansat.obj           # Modelo 3D CanSat
‚îú‚îÄ‚îÄ üìÅ plugins/               # Plugins Vite personalizados
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ visual-editor/       # Sistema edici√≥n visual
‚îî‚îÄ‚îÄ üìÅ tools/                 # Herramientas desarrollo
    ‚îî‚îÄ‚îÄ ü§ñ generate-llms.js     # Generador datos LLMs
```

### üîÑ Flujo de Datos

```mermaid
graph TD
    A[React Frontend :3001] -->|HTTP/JWT| B[Django Backend :8000]
    B -->|SQLite| C[Base de Datos]
    B -->|API REST| D[Endpoints]
    D -->|/api/auth/| E[Autenticaci√≥n]
    D -->|/api/flights/| F[Gesti√≥n Vuelos]
    D -->|/api/telemetry/| G[Telemetr√≠a Live]
    A -->|IndexedDB| H[Almacenamiento Local]
```

## üöÄ Instalaci√≥n y Configuraci√≥n

### üìã Prerrequisitos
- **Node.js** >= 18.x
- **npm** >= 9.x  
- **Python** >= 3.8
- **pip** (gestor de paquetes Python)
- Navegador moderno con soporte para ES6+

### ‚ö° Instalaci√≥n Completa (Frontend + Backend)

#### 1Ô∏è‚É£ **Clonar el Repositorio**
```bash
git clone https://github.com/YIJ18/PLANTILLA.git
cd PLANTILLA
```

#### 2Ô∏è‚É£ **Configurar Frontend React**
```bash
# Instalar dependencias del frontend
npm install
```

#### 3Ô∏è‚É£ **Configurar Backend Django**
```bash
# Navegar al directorio backend
cd backend

# Crear entorno virtual (recomendado)
python -m venv venv
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# Instalar dependencias Python
pip install -r requirements.txt

# Ejecutar migraciones de base de datos
python manage.py migrate

# Crear datos de prueba y usuarios
python create_sample_data.py
```

#### 4Ô∏è‚É£ **Ejecutar la Aplicaci√≥n**

**Opci√≥n A: Ejecutar ambos servidores manualmente**
```bash
# Terminal 1 - Backend Django (Puerto 8000)
cd backend
python manage.py runserver

# Terminal 2 - Frontend React (Puerto 3001)
cd ..
npm run dev
```

**Opci√≥n B: Script automatizado (pr√≥ximamente)**
```bash
npm run fullstack
```

#### 5Ô∏è‚É£ **Acceder a la Aplicaci√≥n**
- **Frontend**: http://localhost:3001
- **Backend API**: http://localhost:8000
- **Admin Django**: http://localhost:8000/admin

### üîê Credenciales de Acceso

**Usuarios de la Aplicaci√≥n (Frontend):**
| Usuario | Contrase√±a | Rol |
|---------|------------|-----|
| `admin@astra.com` | `admin123` | Administrador |
| `operator@astra.com` | `operator123` | Operador |
| `analyst@astra.com` | `analyst123` | Analista |

**Panel de Administraci√≥n Django (Backend):**
| Usuario | Contrase√±a | Tipo |
|---------|------------|------|
| `admin` | `admin123` | Superusuario |

### üîß Scripts Disponibles

**Frontend (React):**
```bash
# Desarrollo con hot reload
npm run dev

# Compilar para producci√≥n
npm run build

# Previsualizar build de producci√≥n  
npm run preview
```

**Backend (Django):**
```bash
cd backend

# Ejecutar servidor de desarrollo
python manage.py runserver

# Ejecutar con puerto espec√≠fico
python manage.py runserver 8080

# Crear migraciones
python manage.py makemigrations

# Aplicar migraciones
python manage.py migrate

# Crear superusuario
python manage.py createsuperuser

# Recrear datos de prueba
python create_sample_data.py

# Verificar usuarios existentes
python check_users.py
```

### üåê URLs y Endpoints

**Frontend:**
- Dashboard P√∫blico: `http://localhost:3001/`
- Panel Admin: `http://localhost:3001/admin`
- Login: `http://localhost:3001/login`

**Backend API:**
- API Root: `http://localhost:8000/api/`
- Autenticaci√≥n: `http://localhost:8000/api/auth/`
- Vuelos: `http://localhost:8000/api/flights/`
- Telemetr√≠a: `http://localhost:8000/api/telemetry/`
- Admin Panel: `http://localhost:8000/admin/`

### ‚öôÔ∏è Configuraci√≥n Adicional

#### üî• Variables de Entorno
Crea un archivo `.env` en la carpeta `backend/`:
```env
DEBUG=True
SECRET_KEY=tu-clave-secreta-aqui
ALLOWED_HOSTS=localhost,127.0.0.1
CORS_ALLOWED_ORIGINS=http://localhost:3001,http://127.0.0.1:3001
```

#### üê≥ Docker (Opcional)
```bash
# Pr√≥ximamente: contenedores Docker
docker-compose up -d
```

### üîÑ Desarrollo Colaborativo

**Para otros desarrolladores:**
```bash
# 1. Clonar repositorio
git clone https://github.com/YIJ18/PLANTILLA.git
cd PLANTILLA

# 2. Instalar frontend
npm install

# 3. Configurar backend
cd backend
python -m venv venv
venv\Scripts\activate  # Windows
pip install -r requirements.txt
python manage.py migrate
python create_sample_data.py

# 4. Ejecutar en desarrollo
# Terminal 1:
cd backend && python manage.py runserver
# Terminal 2: 
npm run dev
```

## üì± Uso del Dashboard

### ÔøΩ Vista P√∫blica (/)
La vista p√∫blica permite visualizar datos de vuelos sin capacidades de gesti√≥n:

- **Solo Lectura**: Visualizaci√≥n de vuelos guardados
- **Sin Gesti√≥n**: No permite cargar archivos ni modo live
- **Acceso Libre**: No requiere autenticaci√≥n
- **Bot√≥n Admin**: Acceso directo al login de administraci√≥n

### üëë Panel de Administraci√≥n (/admin)

#### üîê Acceso de Administrador
Para acceder al panel completo, usa estas credenciales de demo:

| Usuario | Contrase√±a | Rol |
|---------|------------|-----|
| `admin` | `astra2024` | Administrador Astra |
| `mission-control` | `caelus2024` | Control de Misi√≥n |

#### ÔøΩüéÆ Funcionalidades Completas

**Modo en Vivo:**
1. Haz clic en **"Iniciar Modo Live"**
2. Introduce un nombre para el vuelo
3. Los datos se actualizar√°n autom√°ticamente cada 2 segundos
4. Usa **"Detener Live"** para pausar la telemetr√≠a

**Importar Datos:**
1. Haz clic en **"Cargar Archivo"**
2. Selecciona un archivo TXT/CSV con el formato requerido
3. Los datos se parsear√°n y visualizar√°n autom√°ticamente

**Gesti√≥n de Vuelos:**
- **Seleccionar Vuelo**: Usa el dropdown para cargar vuelos guardados
- **Eliminar Vuelos**: Bot√≥n de eliminaci√≥n en cada vuelo guardado
- **Exportar**: Genera un paquete ZIP completo con datos y gr√°ficas
- **Historial**: Todos los vuelos se guardan autom√°ticamente en IndexedDB

### üîÑ Navegaci√≥n entre Modos
- **Vista P√∫blica ‚Üí Admin**: Bot√≥n "Acceso Admin" en el selector de vuelos
- **Admin ‚Üí Vista P√∫blica**: Bot√≥n "Vista P√∫blica" en el header de admin
- **Cerrar Sesi√≥n**: Bot√≥n "Cerrar Sesi√≥n" regresa a la vista p√∫blica

### üó∫Ô∏è Formato de Datos

```csv
timestamp,temp,humidity,alt,pressure,walkie,acc_x,acc_y,acc_z,gyro_x,gyro_y,gyro_z,lat,lng
1635724800000,25.5,65.2,120.5,1001.2,8,0.1,-0.2,9.8,12.5,-3.4,45.2,40.7128,-74.0060
```

## üéØ Componentes Principales

### üìä ChartsGrid
- Gr√°ficas interactivas con Chart.js
- Visualizaci√≥n de temperatura, humedad, altitud, presi√≥n
- Actualizaci√≥n en tiempo real

### üó∫Ô∏è MapSection
- Mapa interactivo con React Leaflet
- Marcadores de posici√≥n GPS
- Visualizaci√≥n de trayectoria completa

### üéØ GyroscopeViewer
- Renderizado 3D con Three.js y React Three Fiber
- Carga de modelos OBJ personalizados
- Rotaci√≥n basada en datos del giroscopio

### üéõÔ∏è MissionControl
- Panel de control de misi√≥n
- Checklist autom√°tico de sistemas
- Log de eventos en tiempo real

## üõ†Ô∏è Tecnolog√≠as Utilizadas

### ‚öõÔ∏è Frontend (React)
- **React 18** - Framework principal
- **Vite 4** - Build tool y dev server
- **React Router DOM** - Routing y navegaci√≥n
- **Tailwind CSS** - Framework de estilos
- **Framer Motion** - Animaciones
- **Radix UI** - Componentes base accesibles

### ÔøΩ Backend (Django)
- **Django 4.2.7** - Framework web principal
- **Django REST Framework** - API REST
- **djangorestframework-simplejwt** - Autenticaci√≥n JWT
- **django-cors-headers** - Gesti√≥n CORS
- **SQLite** - Base de datos (desarrollo)
- **Python 3.8+** - Lenguaje backend

### ÔøΩüîê Autenticaci√≥n y Seguridad
- **JWT (JSON Web Tokens)** - Autenticaci√≥n stateless
- **Django Authentication** - Sistema de usuarios
- **CORS** - Cross-Origin Resource Sharing
- **Context API** - Gesti√≥n estado frontend
- **localStorage** - Persistencia de tokens
- **Protected Routes** - Rutas protegidas por rol

### üìä Visualizaci√≥n
- **Chart.js + React-ChartJS-2** - Gr√°ficas interactivas
- **React Leaflet** - Mapas
- **Three.js + React Three Fiber** - Renderizado 3D
- **React Three Drei** - Utilidades 3D

### üíæ Gesti√≥n de Datos
- **Django ORM** - Object-Relational Mapping
- **SQLite** - Base de datos local (desarrollo)
- **IndexedDB** - Almacenamiento local frontend
- **JSZip** - Exportaci√≥n de archivos
- **HTML2Canvas** - Captura de gr√°ficas
- **File-Saver** - Descarga de archivos

### üåê API y Comunicaci√≥n
- **Fetch API** - Llamadas HTTP
- **Axios** (opcional) - Cliente HTTP
- **Django REST Serializers** - Serializaci√≥n de datos
- **JSON** - Formato de intercambio
- **RESTful API** - Arquitectura de servicios

### üîß Herramientas de Desarrollo
- **ESLint** - Linting JavaScript
- **PostCSS + Autoprefixer** - Procesamiento CSS
- **Babel** - Transpilaci√≥n editor visual
- **Django Management Commands** - Scripts de gesti√≥n
- **pip** - Gestor paquetes Python
- **npm** - Gestor paquetes Node.js

## ‚öôÔ∏è Configuraci√≥n Avanzada

### üé® Personalizaci√≥n de Estilos
Los estilos utilizan variables CSS customizables en `src/index.css`:

```css
:root {
  --background: 222.2 84% 4.9%;
  --foreground: 210 40% 98%;
  --primary: 217.2 91.2% 59.8%;
  /* ... m√°s variables */
}
```

### üõ†Ô∏è Plugin de Editor Visual
El proyecto incluye un sistema de edici√≥n visual que permite:
- Edici√≥n inline de elementos React
- Transformaci√≥n autom√°tica de JSX
- API de aplicaci√≥n de cambios en tiempo real

### üåê Configuraci√≥n de Red
Para desarrollo en red local, modifica `vite.config.js`:

```javascript
server: {
  host: '0.0.0.0', // Permitir conexiones externas
  port: 3000,
  cors: true
}
```

## ÔøΩ Sistema de Administraci√≥n

### üë• Roles y Permisos

**Vista P√∫blica (`/`)**
- ‚úÖ Visualizaci√≥n de vuelos guardados
- ‚úÖ Acceso a gr√°ficas y mapas
- ‚úÖ Visor 3D (solo lectura)
- ‚ùå Gesti√≥n de archivos
- ‚ùå Modo en vivo
- ‚ùå Exportaci√≥n de datos

**Administrador (`/admin`)**
- ‚úÖ Todas las funciones p√∫blicas
- ‚úÖ Carga de archivos de telemetr√≠a
- ‚úÖ Modo de monitoreo en vivo
- ‚úÖ Eliminaci√≥n de vuelos
- ‚úÖ Exportaci√≥n completa
- ‚úÖ Grabaci√≥n de videos 3D
- ‚úÖ Carga de modelos 3D personalizados

### üõ°Ô∏è Seguridad
- **Autenticaci√≥n Local**: Sistema de login con credenciales predefinidas
- **Persistencia de Sesi√≥n**: Las sesiones se mantienen en localStorage
- **Rutas Protegidas**: Acceso controlado a funcionalidades administrativas
- **Validaci√≥n de Roles**: Verificaci√≥n de permisos en tiempo real
- **Timeout de Sesi√≥n**: (Implementable seg√∫n necesidades)

### üîß Configuraci√≥n de Usuarios
Actualmente usa usuarios predefinidos en `AuthContext.jsx`:
```javascript
const DEMO_USERS = [
  {
    username: 'admin',
    password: 'astra2024',
    name: 'Administrador Astra',
    role: 'admin'
  },
  // ... m√°s usuarios
];
```

## üîç C√°lculos y Algoritmos

### üìè C√°lculo de Distancias
Utiliza la f√≥rmula de Haversine para calcular distancias entre coordenadas GPS:

```javascript
function getDistance(lat1, lon1, lat2, lon2) {
  const R = 6371e3; // Radio de la Tierra en metros
  const œÜ1 = lat1 * Math.PI/180;
  const œÜ2 = lat2 * Math.PI/180;
  // ... implementaci√≥n completa
}
```

### üìä An√°lisis de Velocidades
- **Velocidad Vertical**: Cambio de altitud / tiempo
- **Velocidad Horizontal**: Distancia GPS / tiempo
- **Distancia Total**: Suma acumulativa de segmentos

## üåê API Backend (Django REST)

### üîó Endpoints Principales

#### üîê Autenticaci√≥n (`/api/auth/`)
```http
POST /api/auth/login/
Content-Type: application/json

{
  "email": "admin@astra.com",
  "password": "admin123"
}

# Respuesta:
{
  "access": "jwt_token_here",
  "refresh": "refresh_token_here",
  "user": {
    "id": 1,
    "email": "admin@astra.com",
    "first_name": "Admin",
    "role": "admin"
  }
}
```

```http
POST /api/auth/logout/
Authorization: Bearer jwt_token_here
```

#### ‚úàÔ∏è Gesti√≥n de Vuelos (`/api/flights/`)
```http
# Listar vuelos
GET /api/flights/
Authorization: Bearer jwt_token_here

# Crear vuelo
POST /api/flights/
Content-Type: application/json
Authorization: Bearer jwt_token_here

{
  "name": "Vuelo Test 001",
  "description": "Vuelo de prueba",
  "status": "active"
}

# Obtener vuelo espec√≠fico
GET /api/flights/{id}/
Authorization: Bearer jwt_token_here

# Datos de telemetr√≠a de un vuelo
GET /api/flights/{id}/data/
Authorization: Bearer jwt_token_here
```

#### üì° Telemetr√≠a (`/api/telemetry/`)
```http
# Datos en tiempo real
GET /api/telemetry/
Authorization: Bearer jwt_token_here

# Enviar datos de telemetr√≠a
POST /api/telemetry/
Content-Type: application/json
Authorization: Bearer jwt_token_here

{
  "flight": 1,
  "timestamp": "2024-10-11T10:30:00Z",
  "temperature": 25.5,
  "humidity": 65.2,
  "altitude": 120.5,
  "pressure": 1001.2,
  "walkie_channel": 8,
  "acceleration_x": 0.1,
  "acceleration_y": -0.2,
  "acceleration_z": 9.8,
  "gyroscope_x": 12.5,
  "gyroscope_y": -3.4,
  "gyroscope_z": 45.2,
  "latitude": 40.7128,
  "longitude": -74.0060
}
```

### üîë Autenticaci√≥n JWT

El sistema utiliza **JSON Web Tokens** para autenticaci√≥n:

1. **Login**: Env√≠a credenciales ‚Üí Recibe tokens
2. **Requests**: Incluye token en header `Authorization: Bearer <token>`
3. **Refresh**: Usa refresh token para obtener nuevo access token
4. **Logout**: Invalida tokens del lado del servidor

### üìä Modelos de Datos

**Usuario (CustomUser):**
```python
{
  "id": Integer,
  "email": String (√∫nico),
  "first_name": String,
  "last_name": String,
  "role": String ["admin", "operator", "analyst"],
  "is_active": Boolean,
  "date_joined": DateTime
}
```

**Vuelo (Flight):**
```python
{
  "id": Integer,
  "name": String,
  "description": Text,
  "created_by": Integer (User ID),
  "created_at": DateTime,
  "status": String ["active", "completed", "archived"]
}
```

**Datos de Vuelo (FlightData):**
```python
{
  "id": Integer,
  "flight": Integer (Flight ID),
  "timestamp": DateTime,
  "temperature": Float,
  "humidity": Float,
  "altitude": Float,
  "pressure": Float,
  "walkie_channel": Integer,
  "acceleration_x": Float,
  "acceleration_y": Float,
  "acceleration_z": Float,
  "gyroscope_x": Float,
  "gyroscope_y": Float,
  "gyroscope_z": Float,
  "latitude": Float,
  "longitude": Float
}
```

### üõ°Ô∏è Seguridad API

- **Autenticaci√≥n requerida**: Todos los endpoints requieren JWT v√°lido
- **CORS configurado**: Permitido desde frontend (localhost:3001)
- **Validaci√≥n de datos**: Serializers validan entrada
- **Filtrado por usuario**: Usuarios solo ven sus propios datos
- **Roles y permisos**: Control basado en rol de usuario

## üö® Sistema de Alertas

El dashboard incluye un sistema inteligente de alertas:

- **üîã Bater√≠a Cr√≠tica**: Alerta cuando < 20%
- **üå°Ô∏è Sensor de Temperatura**: Detecta fallos (valor 0)
- **üì° P√©rdida de GPS**: Sin actualizaci√≥n por 10+ segundos
- **üìª Canal Walkie**: Monitoreo de frecuencia

## üì¶ Exportaci√≥n de Datos

### üìã Contenido del Paquete ZIP
- `metadata.json` - Informaci√≥n del vuelo
- `{nombre}_data.txt` - Datos en formato CSV
- `grafica_*.png` - Capturas de todas las gr√°ficas
- `mapa_*.png` - Captura del mapa
- `status_*.png` - Panel de estado
- `astra_logo.png` - Logo del equipo

## üêõ Troubleshooting

### ‚ùå Problemas Comunes Frontend

**Error de instalaci√≥n de dependencias:**
```bash
# Limpiar cach√© de npm
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
```

**Problemas con el servidor de desarrollo:**
```bash
# Verificar puerto disponible
netstat -ano | findstr :3001
# Cambiar puerto en package.json si es necesario
```

**Errores de memoria en build:**
```bash
# Aumentar memoria para Node.js
NODE_OPTIONS="--max-old-space-size=4096" npm run build
```

### ‚ùå Problemas Comunes Backend

**Error "ModuleNotFoundError":**
```bash
# Activar entorno virtual
cd backend
venv\Scripts\activate  # Windows
source venv/bin/activate  # Linux/Mac

# Reinstalar dependencias
pip install -r requirements.txt
```

**Error de base de datos:**
```bash
# Eliminar base de datos y recrear
cd backend
rm db.sqlite3
python manage.py migrate
python create_sample_data.py
```

**Puerto 8000 ocupado:**
```bash
# Usar puerto diferente
python manage.py runserver 8080
# Actualizar frontend para usar nuevo puerto
```

**Errores CORS:**
```bash
# Verificar configuraci√≥n en settings.py
CORS_ALLOWED_ORIGINS = [
    "http://localhost:3001",
    "http://127.0.0.1:3001",
]
```

**Error de migraciones:**
```bash
# Resetear migraciones (CUIDADO: elimina datos)
cd backend
rm -rf */migrations/0*.py
python manage.py makemigrations
python manage.py migrate
```

### üîß Logs y Debugging

**Frontend (React):**
```bash
# Consola del navegador (F12)
# Logs de AuthContext y API calls
```

**Backend (Django):**
```bash
# Ver logs del servidor
python manage.py runserver --verbosity=2

# Debug mode en settings.py
DEBUG = True
```

### üåê Problemas de Conectividad

**Frontend no se conecta al backend:**
1. Verificar que Django est√© ejecut√°ndose en puerto 8000
2. Verificar CORS en `settings.py`
3. Verificar URL del API en frontend (`AuthContext.jsx`)
4. Comprobar que no hay firewall bloqueando

**Autenticaci√≥n fallando:**
1. Verificar credenciales en `create_sample_data.py`
2. Comprobar que JWT est√° configurado correctamente
3. Verificar que tokens no han expirado
4. Limpiar localStorage del navegador

### üì± Problemas M√≥viles/Red

**Acceso desde otros dispositivos:**
```bash
# Frontend - permitir conexiones externas
npm run dev -- --host 0.0.0.0

# Backend - configurar ALLOWED_HOSTS
ALLOWED_HOSTS = ['*']  # Solo para desarrollo
```

**Base de datos en producci√≥n:**
```bash
# Cambiar a PostgreSQL/MySQL en producci√≥n
pip install psycopg2-binary  # PostgreSQL
# Actualizar DATABASES en settings.py
```

## ü§ù Contribuci√≥n

### üìù Flujo de Contribuci√≥n
1. Fork del repositorio
2. Crear rama feature: `git checkout -b feature/nueva-funcionalidad`
3. Commit cambios: `git commit -m 'A√±adir nueva funcionalidad'`
4. Push a la rama: `git push origin feature/nueva-funcionalidad`
5. Crear Pull Request

### üìè Est√°ndares de C√≥digo
- Usar ESLint para consistencia
- Comentarios en espa√±ol para el equipo
- Componentes funcionales con hooks
- Props tipadas cuando sea posible

## üìÑ Licencia

Este proyecto est√° bajo la Licencia MIT. Ver archivo `LICENSE` para m√°s detalles.

## üë• Equipo Astra Rocketry

**Misi√≥n Caelus - Universidad Iberoamericana**

- üöÄ Desarrollo de CanSat
- üì° Sistemas de Telemetr√≠a  
- üíª Dashboard de Monitoreo
- üéØ An√°lisis de Datos de Vuelo

---

### üìû Contacto

Para dudas t√©cnicas o colaboraci√≥n, contacta al equipo de desarrollo.

**¬°Vuela alto con Astra Rocketry! üöÄ**
